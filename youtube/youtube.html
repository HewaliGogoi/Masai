<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Youtube</title>
    <style>
        *{
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body{
            background-color: rgba(40,40,40,255);
        }
        #navbar{
            border: 2px solid red;
            text-align: center;
            width: 100%;
            height: min-content;
            position: absolute;
        }
        #navbar img{
            /* border: 2px solid green; */
            height: 50px;
            width: 10%;
            margin-left: 0%;
            margin-bottom: 0%;
        }
        #navbar input{
            /* border: 2px solid blueviolet; */
            width: 50%;
            height: 50px;
            margin-top: 0%;
        }
        #navbar a{
            color: white;
        }
        #main{
            width: 100%;
            /* border: 2px solid red;  */
            display: flex;
            color: white;
        }
        #left-box{
            border: 2px solid orange; 
            width: min-content;
            text-align: center;
            overflow: hidden;
        }
        #left-box button{
            background-color: rgba(40,40,40,255);
            /* border: 2px solid red;  */
            text-align: center;
            width: 60%;
            color: white;
            margin: 25% 0%;
        }
        #left-box img{
            width: 100%;
            display: block;
        }
        #right-box{
            border: 2px solid greenyellow; 
            width: 100%;
            margin-top: 5%;
            position: relative;
            overflow: hidden;
            display: flex;
            flex-wrap: wrap;
        }
        .box{
            border: 2px solid pink; 
            width: 20%;
            margin: 2%;
        }
    </style>
</head>
<body>
    <div id="main">
        <div id = 'left-box'>
            <button><img src="https://cdn4.vectorstock.com/i/1000x1000/05/73/menu-button-icon-design-vector-22050573.jpg" alt=""></button>
            <button><img src="https://icon-library.com/images/house-vector-icon/house-vector-icon-16.jpg" alt=""> <br> Home</button>
            <button><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ7By49459o0YFbI9Xt_4oZvGcfHh8C9Lv517ypclU2Oofvgo1CViIRWA5gIpbgPWgoYX0&usqp=CAU" alt=""><br> Explore</button>
            <button><img src="https://cdn.logojoy.com/wp-content/uploads/20200406092725/youtube-icon.png" alt=""><br> Subscriptions</button>
            <button><img src="https://seeklogo.com/images/Y/youtube-play-black-logo-E6E4CD69C6-seeklogo.com.png" alt=""><br> Library</button>
            <button><img src="https://www.seekpng.com/png/full/781-7815113_history-icon-white-png.png" alt=""><br> History</button>
        </div>
        <div id = 'navbar'>
            <img src="https://www.logo.wine/a/logo/YouTube/YouTube-White-Full-Color-Dark-Background-Logo.wine.svg" alt="">
            <input type="text" placeholder="Search">
            <a href="">SIGN IN</a>
        </div>
        <div id = 'right-box'>

        </div>
    </div>
</body>
<script>
    let key = 'AIzaSyDrm_NJ2pWoyPJDybE7y46pjD2rGrgPnj0';
    let d1 = JSON.parse(localStorage.getItem('d1'));
    if(d1 == null){
        main();
    }else{
        d1.forEach((element) => (create(element)));
    }
    async function main(){
        try{
            var data = await fetch(`https://youtube.googleapis.com/youtube/v3/search?q=mostpopular&key=${key}&maxResults=50&part=snippet`);
            data = await data.json();
            console.log(data);
            localStorage.setItem(d1, JSON.stringify(data.items));
            data.items.forEach((element) => (create(element)));
        }
        catch{
            console.log('error');
        }
    }

    function create(element){
        let right = document.getElementById('right-box');
        let div = document.createElement('div');
        div.setAttribute('class', 'box');
        let img = document.createElement('img');
        let h1 = document.createElement('h2');
        let p = document.createElement('p');
        // console.log(element.snippet.thumbnails.default.url);
        img.src = element.snippet.thumbnails.default.url
        // h1.innerHTML = `${element.snippet.title}`;
        if(element.snippet.title.length >= 30){
            let str = element.snippet.title.substring(0, 30);
            h1.innerText = str + '...';
        }
        div.append(p, h1, img);
        right.append(div);
    }
</script>
</html>